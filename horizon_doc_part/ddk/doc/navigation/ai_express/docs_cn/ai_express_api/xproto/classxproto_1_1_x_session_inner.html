<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>XProto Framework API Document: xproto::XSessionInner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XProto Framework API Document
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classxproto_1_1_x_session_inner.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classxproto_1_1_x_session_inner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xproto::XSessionInner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for xproto::XSessionInner:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classxproto_1_1_x_session_inner.png" usemap="#xproto::XSessionInner_map" alt=""/>
  <map id="xproto::XSessionInner_map" name="xproto::XSessionInner_map">
<area href="classxproto_1_1_message_call_back.html" alt="xproto::MessageCallBack" shape="rect" coords="0,0,220,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a03dde385287ce5aa19fa99884d511842"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a03dde385287ce5aa19fa99884d511842">XSessionInner</a> ()</td></tr>
<tr class="separator:a03dde385287ce5aa19fa99884d511842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6559769ca797ce8aa3381e1e4a7c587e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a6559769ca797ce8aa3381e1e4a7c587e">~XSessionInner</a> ()</td></tr>
<tr class="separator:a6559769ca797ce8aa3381e1e4a7c587e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6173eee028986c74d4b421233e35f1"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a4c6173eee028986c74d4b421233e35f1">AsMaster</a> (const std::string &amp;host_ip, uint16_t host_port)</td></tr>
<tr class="separator:a4c6173eee028986c74d4b421233e35f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a502612d1625986a7af9b2346a0495"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#ad3a502612d1625986a7af9b2346a0495">ConnectTo</a> (const std::string &amp;ip, uint16_t port)</td></tr>
<tr class="separator:ad3a502612d1625986a7af9b2346a0495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add516a58e312c8c1eada601a6be69f8c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structxproto_1_1_session_info.html">SessionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#add516a58e312c8c1eada601a6be69f8c">Info</a> ()</td></tr>
<tr class="separator:add516a58e312c8c1eada601a6be69f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166cb190d9cbbc49f8e0ccb09b6e7ed9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a166cb190d9cbbc49f8e0ccb09b6e7ed9">Reset</a> ()</td></tr>
<tr class="separator:a166cb190d9cbbc49f8e0ccb09b6e7ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073db777fd7c73dfb42dfe6de61d1840"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a073db777fd7c73dfb42dfe6de61d1840">Dispatch</a> (<a class="el" href="namespacexproto.html#a331f38263cf52bd1f4988890e920f1e0">XProtoMessagePtr</a> msg)</td></tr>
<tr class="separator:a073db777fd7c73dfb42dfe6de61d1840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021fe7f8128c6503e24c1f723a5aafb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a021fe7f8128c6503e24c1f723a5aafb5">RegisterMsg</a> (const std::string &amp;msg_type)</td></tr>
<tr class="separator:a021fe7f8128c6503e24c1f723a5aafb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a012f27c1b1ca1ace588e4285240674"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a4a012f27c1b1ca1ace588e4285240674">UnRegisterMsg</a> (const std::string &amp;msg_type)</td></tr>
<tr class="separator:a4a012f27c1b1ca1ace588e4285240674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91327c90dafd455a78b25f16d1f56b91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a91327c90dafd455a78b25f16d1f56b91">Close</a> ()</td></tr>
<tr class="separator:a91327c90dafd455a78b25f16d1f56b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2242b681b1142c2902cb78c05e63d9e7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a2242b681b1142c2902cb78c05e63d9e7">OnMessage</a> (<a class="el" href="namespacexproto.html#ad78db8ec43a211304dbc17f0ea81c05c">ActionType</a> action_type, std::string &amp;msg_type, std::string &amp;data)</td></tr>
<tr class="separator:a2242b681b1142c2902cb78c05e63d9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6c89a68b0e5e1782118f586208087230"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a6c89a68b0e5e1782118f586208087230">RecvThread</a> ()</td></tr>
<tr class="separator:a6c89a68b0e5e1782118f586208087230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9655c241f6af3e1780516304beaabc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#ac9655c241f6af3e1780516304beaabc8">SendMsgProc</a> (<a class="el" href="namespacexproto.html#a331f38263cf52bd1f4988890e920f1e0">XProtoMessagePtr</a> msg)</td></tr>
<tr class="separator:ac9655c241f6af3e1780516304beaabc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa9ac45f24730ccbe527b8cb618a2cbff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#aa9ac45f24730ccbe527b8cb618a2cbff">is_inited_</a> = false</td></tr>
<tr class="separator:aa9ac45f24730ccbe527b8cb618a2cbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f47c5f4402f2237102b1ae23d45f94c"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classxproto_1_1_x_socket.html">XSocket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a5f47c5f4402f2237102b1ae23d45f94c">socket_</a></td></tr>
<tr class="separator:a5f47c5f4402f2237102b1ae23d45f94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42180a6ecd8ac2c4b468535d710002b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxproto_1_1_session_info.html">SessionInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a42180a6ecd8ac2c4b468535d710002b4">session_info_</a></td></tr>
<tr class="separator:a42180a6ecd8ac2c4b468535d710002b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac624679e5fc51f0242b47030bc31cb1c"><td class="memItemLeft" align="right" valign="top">xproto::CThreadPool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#ac624679e5fc51f0242b47030bc31cb1c">recv_handle_</a></td></tr>
<tr class="separator:ac624679e5fc51f0242b47030bc31cb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e770012ea9fb9d1201a2982c57d2c1b"><td class="memItemLeft" align="right" valign="top">xproto::CThreadPool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a5e770012ea9fb9d1201a2982c57d2c1b">send_handle_</a></td></tr>
<tr class="separator:a5e770012ea9fb9d1201a2982c57d2c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36af47a467d51b1bab6a5185e76cecdd"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a36af47a467d51b1bab6a5185e76cecdd">stop_</a></td></tr>
<tr class="separator:a36af47a467d51b1bab6a5185e76cecdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a63a2974053c085a4c7dfbdc2b6f6f"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#ae3a63a2974053c085a4c7dfbdc2b6f6f">sub_msg_types_</a></td></tr>
<tr class="separator:ae3a63a2974053c085a4c7dfbdc2b6f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c6e6b023b7e7e935fb0eae0f402104"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#a16c6e6b023b7e7e935fb0eae0f402104">sub_msg_types_mtx_</a></td></tr>
<tr class="separator:a16c6e6b023b7e7e935fb0eae0f402104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12a352ce124d42803671af734b3693e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxproto_1_1_x_session_inner.html#aa12a352ce124d42803671af734b3693e">session_version_</a> = &quot;session.1.0.1&quot;</td></tr>
<tr class="separator:aa12a352ce124d42803671af734b3693e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00034">34</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a03dde385287ce5aa19fa99884d511842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xproto::XSessionInner::XSessionInner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6559769ca797ce8aa3381e1e4a7c587e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xproto::XSessionInner::~XSessionInner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00038">38</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4c6173eee028986c74d4b421233e35f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t xproto::XSessionInner::AsMaster </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>host_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>host_port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: Set as master device and set session to master mode. If the messages generated by this plugin need to flow to the plugin on another device, you can set the device to master mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">{int32_t}</td><td>listenting port </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{*} zero:success non-zero:failure </dd></dl>

</div>
</div>
<a class="anchor" id="a91327c90dafd455a78b25f16d1f56b91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: Close Session </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="ad3a502612d1625986a7af9b2346a0495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t xproto::XSessionInner::ConnectTo </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: Connect to master device and set session to slave mode. If you want to subscribe to Plugin messages on other devices, you need to connect to other devices first, and then subscribe to the corresponding messages. If connected to master device, Specified messages can flow between devices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">{std::string}</td><td>master device IP </td></tr>
    <tr><td class="paramname">{int32_t}</td><td>listenting port </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{*} zero:success non-zero:failure </dd></dl>

</div>
</div>
<a class="anchor" id="a073db777fd7c73dfb42dfe6de61d1840"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::Dispatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacexproto.html#a331f38263cf52bd1f4988890e920f1e0">XProtoMessagePtr</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: Dispatch msg </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="add516a58e312c8c1eada601a6be69f8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structxproto_1_1_session_info.html">SessionInfo</a>&gt; xproto::XSessionInner::Info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: Query Session messages </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{*} return Info of plugin session info. </dd></dl>

</div>
</div>
<a class="anchor" id="a2242b681b1142c2902cb78c05e63d9e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int xproto::XSessionInner::OnMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacexproto.html#ad78db8ec43a211304dbc17f0ea81c05c">ActionType</a>&#160;</td>
          <td class="paramname"><em>action_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>msg_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>: Process command message </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action_type</td><td>action type </td></tr>
    <tr><td class="paramname">msg_type</td><td>msg type </td></tr>
    <tr><td class="paramname">data</td><td>msg serialized data buffer, witch can be transefer on network </td></tr>
    <tr><td class="paramname">extra_len</td><td>extra_len, as flag ... </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{*} 0: do not reply to client; 1:reply 'ok' to client; 2:reply 'error' to client. </dd></dl>

<p>Implements <a class="el" href="classxproto_1_1_message_call_back.html#abc3efa79ad1952f81734ebcee7346a46">xproto::MessageCallBack</a>.</p>

</div>
</div>
<a class="anchor" id="a6c89a68b0e5e1782118f586208087230"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::RecvThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a021fe7f8128c6503e24c1f723a5aafb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::RegisterMsg </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: RegisterMsg Session </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">std::string&amp;</td><td>msg type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a166cb190d9cbbc49f8e0ccb09b6e7ed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: reset Session to default Local Mode </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="ac9655c241f6af3e1780516304beaabc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::SendMsgProc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacexproto.html#a331f38263cf52bd1f4988890e920f1e0">XProtoMessagePtr</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a012f27c1b1ca1ace588e4285240674"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xproto::XSessionInner::UnRegisterMsg </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>: UnRegisterMsg Session </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">std::string&amp;</td><td>msg type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa9ac45f24730ccbe527b8cb618a2cbff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xproto::XSessionInner::is_inited_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00102">102</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac624679e5fc51f0242b47030bc31cb1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xproto::CThreadPool xproto::XSessionInner::recv_handle_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00105">105</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5e770012ea9fb9d1201a2982c57d2c1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xproto::CThreadPool xproto::XSessionInner::send_handle_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00106">106</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a42180a6ecd8ac2c4b468535d710002b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxproto_1_1_session_info.html">SessionInfo</a> xproto::XSessionInner::session_info_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00104">104</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa12a352ce124d42803671af734b3693e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string xproto::XSessionInner::session_version_ = &quot;session.1.0.1&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00116">116</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f47c5f4402f2237102b1ae23d45f94c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classxproto_1_1_x_socket.html">XSocket</a>&gt; xproto::XSessionInner::socket_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00103">103</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a36af47a467d51b1bab6a5185e76cecdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; xproto::XSessionInner::stop_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00107">107</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae3a63a2974053c085a4c7dfbdc2b6f6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, uint64_t&gt; xproto::XSessionInner::sub_msg_types_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>: subscribe msg </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">std::string</td><td>msg type </td></tr>
    <tr><td class="paramname">uint64_t</td><td>msg subscribe time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00114">114</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a16c6e6b023b7e7e935fb0eae0f402104"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex xproto::XSessionInner::sub_msg_types_mtx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xsession__inner_8h_source.html#l00115">115</a> of file <a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/xproto/session/<a class="el" href="xsession__inner_8h_source.html">xsession_inner.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacexproto.html">xproto</a></li><li class="navelem"><a class="el" href="classxproto_1_1_x_session_inner.html">XSessionInner</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
